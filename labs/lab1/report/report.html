<h1 id="цель-работы">Цель работы</h1>
<p>Приобретение практических навыков работы с ситемой управления
версиями Git.</p>
<h1 id="задание">Задание</h1>
<p>Провести базовую настройку гит, создать проект и, используя его,
изучить основные действия с репозиторием.</p>
<h1 id="выполнение-лабораторной-работы">Выполнение лабораторной
работы</h1>
<h2 id="подготовка">Подготовка</h2>
<p>Сначала настроим core.autocrlf с параметрами true и input, чтобы
сделать все переводы строк текстовых файлов в главном репозитории
одинаковыми, а затем настроим отображение unicode(рис. <span
class="citation" data-cites="fig:001">@fig:001</span>).</p>
<figure id="fig:001">
<img src="image/img1.png" style="width:70.0%" alt="Настройка git" />
<figcaption aria-hidden="true">Настройка git</figcaption>
</figure>
<h2 id="создание-проекта">Создание проекта</h2>
<p>Создадим пустой каталог hello, а в нём файл с именем hello.html.
Затем создадим git репозиторий из этого каталога, выполнив команду git
init. Добавим файл в репозиторий и проверим статус, который сообщает,
что коммитить нечего(рис. <span class="citation"
data-cites="fig:002">@fig:002</span>).</p>
<figure id="fig:002">
<img src="image/img2.png" style="width:70.0%"
alt="Создание репозитория" />
<figcaption aria-hidden="true">Создание репозитория</figcaption>
</figure>
<h2 id="внесение-изменений">Внесение изменений</h2>
<p>Изменим содержимое файла hello.html на:</p>
<pre><code>&lt;h1&gt;Hello, World!&lt;/h1&gt;
</code></pre>
<p>Проверив состояние рабочего каталога увидим, что git знает, что файл
hello.html был изменен, но при этом эти изменения еще не зафиксированы в
репозитории. Теперь проиндексируем изменения и снова посмотрим статус, в
нём указано, что изменения пока не записаны в резапозиторий. И наконец
закоммитим изменения, внеся их в репозиторий и снова посмотрим статус,
который теперь показывает, что все изменения внесены в репозиторий (рис.
<span class="citation" data-cites="fig:003">@fig:003</span>).</p>
<figure id="fig:003">
<img src="image/img3.png" style="width:70.0%"
alt="Внесение изменений в содержимое репозитория" />
<figcaption aria-hidden="true">Внесение изменений в содержимое
репозитория</figcaption>
</figure>
Изменим страницу «Hello, World», чтобы она содержала стандартные теги
<html>
и
<body>
<p>.</p>
<pre><code>&lt;html&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello, World!&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
Теперь добавим это изменение в индекс git и добавим заголовки HTML
(секцию
<head>
<p>) к странице «Hello, World». Проверив текущий статус увидим, что
hello.html указан дважды в состоянии. Первое изменение (добавление
стандартных тегов) проиндексировано и готово к коммиту. Второе изменение
(добавление заголовков HTML) является непроиндексированным. Произведем
коммит проиндексированного изменения, затем проиндексируем оставшееся
изменение, посмотрим статус и прокоммитим его(рис. <span
class="citation" data-cites="fig:004">@fig:004</span>).</p>
<figure id="fig:004">
<img src="image/img4.png" style="width:70.0%"
alt="Внесение нескольких изменений в содержимое репозитория" />
<figcaption aria-hidden="true">Внесение нескольких изменений в
содержимое репозитория</figcaption>
</figure>
<h2 id="история">История</h2>
<p>Посмотрим список произведённыз изменений в станлартном виде, затем в
однострочном, а также с указанием времени и количества(рис. <span
class="citation" data-cites="fig:005">@fig:005</span>).</p>
<figure id="fig:005">
<img src="image/img5.png" style="width:70.0%" alt="Просмотр истории" />
<figcaption aria-hidden="true">Просмотр истории</figcaption>
</figure>
<h2 id="получение-старых-версий">Получение старых версий</h2>
<p>Изучим данные лога и найдем там хэш первого коммита, используя его
вернемся к первой верссии и просмотрим файл hello.html, действительно,
увидим первую версию. Затем вернемся к последней версии в ветке master и
вновь посмотрим на файл(рис. <span class="citation"
data-cites="fig:006">@fig:006</span>).</p>
<figure id="fig:006">
<img src="image/img6.png" style="width:70.0%"
alt="Просмотр разных версий репозитория" />
<figcaption aria-hidden="true">Просмотр разных версий
репозитория</figcaption>
</figure>
<h2 id="создание-тегов-версий">Создание тегов версий</h2>
<p>Назовем текущую версию страницы hello первой (v1). Создадим тег
первой версии и используем его для того чтобы венуться к предыдущей,
которой также присвоим тег(рис. <span class="citation"
data-cites="fig:007">@fig:007</span>).</p>
<figure id="fig:007">
<img src="image/img7.png" style="width:70.0%"
alt="Создание тегов версий" />
<figcaption aria-hidden="true">Создание тегов версий</figcaption>
</figure>
<p>Переключимся по тегам между двумя отмеченными версиями. Просмотрим
все доступные теги(их два) и посмотрим теки в логе(рис. <span
class="citation" data-cites="fig:008">@fig:008</span>).</p>
<figure id="fig:008">
<img src="image/img8.png" style="width:70.0%"
alt="Переключение по имени тега и просмотр доступных тегов" />
<figcaption aria-hidden="true">Переключение по имени тега и просмотр
доступных тегов</figcaption>
</figure>
<h2 id="отмена-локальных-изменений-до-индексации">Отмена локальных
изменений (до индексации)</h2>
<p>Убдеимся, что мы находимся на последнем коммите ветки master и внесем
изменение в файл hello.html в виде нежелательного комментария. Затем
проверим статус, увидим, что изменения ещё не проиндексированы.
Используем команду git checkout для переключения версии файла hello.html
в репозитории(рис. <span class="citation"
data-cites="fig:009">@fig:009</span>).</p>
<figure id="fig:009">
<img src="image/img9.png" style="width:70.0%"
alt="Отмена локальных изменений (до индексации)" />
<figcaption aria-hidden="true">Отмена локальных изменений (до
индексации)</figcaption>
</figure>
<h2 id="отмена-проиндексированных-изменений-перед-коммитом">Отмена
проиндексированных изменений (перед коммитом)</h2>
<p>Внесем изменение в файл hello.html в виде нежелательного
комментария</p>
<pre><code>&lt;html&gt;
  &lt;head&gt;
    &lt;!-- This is an unwanted but staged comment --&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello, World!&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>Проиндексируем это изменение и проверим состояние. Состояние
показывает, что изменение было проиндексировано и готово к коммиту.
Используем команду git reset, чтобы сбросить буферную зону к HEAD. Это
очищает буферную зону от изменений, которые мы только что
проиндексировали. И переключимся на последнюю версию коммита, посмотрев
статус увидим, что наш каталог опять чист(рис. <span class="citation"
data-cites="fig:010">@fig:010</span>).</p>
<figure id="fig:010">
<img src="image/img10.png" style="width:70.0%"
alt="Отмена проиндексированных изменений (перед коммитом)" />
<figcaption aria-hidden="true">Отмена проиндексированных изменений
(перед коммитом)</figcaption>
</figure>
<h2 id="отмена-коммитов">Отмена коммитов</h2>
<p>Изменим файл hello.html на следующий.</p>
<pre><code>&lt;html&gt;
  &lt;head&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello, World!&lt;/h1&gt;
    &lt;!-- This is an unwanted but committed change --&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>Проиндексируем изменения файла и прокоммитим их. Чтобы отменить
коммит, нам необходимо сделать коммит, который удаляет изменения,
сохраненные нежелательным коммитом. Перейдем в редактор, где изменим
нежелательный коммит. Проверим лог. Проверка лога показывает
нежелательные и отмененные коммиты в наш репозиторий(рис. <span
class="citation" data-cites="fig:011">@fig:011</span>).</p>
<figure id="fig:011">
<img src="image/img11.png" style="width:70.0%" alt="Отмена коммитов" />
<figcaption aria-hidden="true">Отмена коммитов</figcaption>
</figure>
<h2 id="удаление-коммиттов-из-ветки">Удаление коммиттов из ветки</h2>
<p>Удалим последние два коммита с помощью сброса, сначала отметим
последний коммит тегом, чтобы его можно было потом найти. Используем
команду git reset, чтобы вернуться к версии до этих коммитов. Теперь в
логе их нет, но если посмотреть логи с опцией –all можно всё ещё их
увидеть, но метка HEAD находится на нужной нам версии(рис. <span
class="citation" data-cites="fig:012">@fig:012</span>).</p>
<figure id="fig:012">
<img src="image/img12.png" style="width:70.0%"
alt="Удаление коммиттов из ветки" />
<figcaption aria-hidden="true">Удаление коммиттов из ветки</figcaption>
</figure>
<h2 id="удаление-тега-oops">Удаление тега oops</h2>
<p>Удалим тег oops и коммиты, на которые он ссылался, сборщиком мусора.
Теперь этот тег не отображается в репозитории(рис. <span
class="citation" data-cites="fig:013">@fig:013</span>).</p>
<figure id="fig:013">
<img src="image/img13.png" style="width:70.0%"
alt="Удаление тега oops" />
<figcaption aria-hidden="true">Удаление тега oops</figcaption>
</figure>
<h2 id="изменение-предыдущего-коммита">Изменение предыдущего
коммита</h2>
<p>Добавим в страницу комментарий автора.</p>
<pre><code>&lt;!-- Author: Dmitry S. Kulyabov --&gt;
&lt;html&gt;
  &lt;head&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello, World!&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>Затем добавим их в репозиторий. Теперь мы хотим добавить в
комментарий автора почту, обноим страницу hello, включив в неё почту.
Чтобы у нас остался один коммит, а не два, изменим последний с помощьб
опции –amend, теперь в логах отображается последняя версия коммита(рис.
<span class="citation" data-cites="fig:014">@fig:014</span>).</p>
<figure id="fig:014">
<img src="image/img14.png" style="width:70.0%"
alt="Изменение предыдущего коммита" />
<figcaption aria-hidden="true">Изменение предыдущего
коммита</figcaption>
</figure>
<h2 id="перемещение-файлов">Перемещение файлов</h2>
<p>Переместим наш файл в каталог lib. Для этого создадим его и
используем команду git mv, сделаем коммит этого пермещения(рис. <span
class="citation" data-cites="fig:015">@fig:015</span>).</p>
<figure id="fig:015">
<img src="image/img15.png" style="width:70.0%"
alt="Перемещение файлов" />
<figcaption aria-hidden="true">Перемещение файлов</figcaption>
</figure>
<h2 id="подробнее-о-структуре">Подробнее о структуре</h2>
<p>Добавим файл index.html в наш репозиторий</p>
<pre><code>&lt;html&gt;
  &lt;body&gt;
    &lt;iframe src=&quot;lib/hello.html&quot; width=&quot;200&quot; height=&quot;200&quot; /&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>Добавим файл и сделаем коммит(рис. <span class="citation"
data-cites="fig:016">@fig:016</span>).</p>
<figure id="fig:016">
<img src="image/img16.png" style="width:70.0%"
alt="Добавление нового файла в репозиторий" />
<figcaption aria-hidden="true">Добавление нового файла в
репозиторий</figcaption>
</figure>
<p>Теперь при открытии index.html, увидим кусок страницы hello в
маленьком окошке(рис. <span class="citation"
data-cites="fig:017">@fig:017</span>).</p>
<figure id="fig:017">
<img src="image/img17.png" style="width:70.0%"
alt="Добавление нового файла в репозиторий" />
<figcaption aria-hidden="true">Добавление нового файла в
репозиторий</figcaption>
</figure>
<h2 id="git-внутри-каталог-.git">Git внутри: Каталог .git</h2>
<p>Просмотрим каталог, в котором хранится вся информация git. Затем
посмотрим набор каталогов, имена которых состоят из 2 символов. Имена
каталогов являются первыми двумя буквами хэша sha1 объекта, хранящегося
в git. Посмотрим в один из каталогов с именем из 2 букв. Увидим файлы с
именами из 38 символов. Это файлы, содержащие объекты, хранящиеся в git.
Посмотрим файл конфигурации, создающийся для каждого конкретного
проекта. Затем посмотрим подкаталоги .git/refs/heads и .git/refs/tags, а
также содержимое файла v1, в нём хранится хэш коммита, привязанный к
тегу. Также посмотрим содержимоей файла HEAD, который содержит ссылку на
текущую ветку, в данный момент это ветка master(рис. <span
class="citation" data-cites="fig:018">@fig:018</span>).</p>
<figure id="fig:018">
<img src="image/img18.png" style="width:70.0%" alt="Каталог .git" />
<figcaption aria-hidden="true">Каталог .git</figcaption>
</figure>
<h2 id="работа-непосредственно-с-объектами-git">Работа непосредственно с
объектами git</h2>
<p>Найдем последний коммит и выедем его с помощью SHA1 хэша. Затем
посмотрим дерево каталогов, ссылка на который идёт в последнем коммите,
вывдем каталог lib и файл hello.html(рис. <span class="citation"
data-cites="fig:019">@fig:019</span>).</p>
<figure id="fig:019">
<img src="image/img19.png" style="width:70.0%"
alt="Работа непосредственно с объектами git" />
<figcaption aria-hidden="true">Работа непосредственно с объектами
git</figcaption>
</figure>
<p>Исследуем git репозиторий вручную самостоятельно. Используя хэш
родительского коммита последовательно дойдем до первой версии файла
hello.html и посмотрим его(рис. <span class="citation"
data-cites="fig:020">@fig:020</span>).</p>
<figure id="fig:020">
<img src="image/img20.png" style="width:70.0%"
alt="Поиск оригинального файла hello.html" />
<figcaption aria-hidden="true">Поиск оригинального файла
hello.html</figcaption>
</figure>
<h2 id="создание-ветки">Создание ветки</h2>
<p>Создадим новую ветку «style» и перейдем в неё. Добавим туда файл
стилей style.css и добавим его в репозиторий. Обновим файл hello.html,
чтобы использовать стили style.css и index.html, также обавим их в
репозиторий(рис. <span class="citation"
data-cites="fig:021">@fig:021</span>).</p>
<figure id="fig:021">
<img src="image/img21.png" style="width:70.0%" alt="Создание ветки" />
<figcaption aria-hidden="true">Создание ветки</figcaption>
</figure>
<h2 id="навигация-по-веткам">Навигация по веткам</h2>
<p>Посмотрим все логи(рис. <span class="citation"
data-cites="fig:022">@fig:022</span>).</p>
<figure id="fig:022">
<img src="image/img22.png" style="width:70.0%"
alt="Просмотр логов новой ветки" />
<figcaption aria-hidden="true">Просмотр логов новой ветки</figcaption>
</figure>
<p>Переключимся обратно на основную ветку и просмотрим содержимое файла
ib/hello.html, заметим, что он не использует стили, также просмотрим
содержимое этого файла в новой ветке</p>
<h1 id="выводы">Выводы</h1>
<p>В результаты выполнение лабораторной работы были приобретены
практические навыки работы с ситемой управления версиями Git.</p>
<h1 class="unnumbered" id="список-литературы">Список литературы</h1>
<div id="refs" role="list">

</div>
